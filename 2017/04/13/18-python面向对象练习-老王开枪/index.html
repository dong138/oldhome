<!DOCTYPE html>
          <head>
        <meta charset="utf-8">
            
            <title>
                python面向对象练习:老王开枪 | Howdoit
            </title>
            <meta content="width=device-width, initial-scale=1" name="viewport">
            <meta name="theme-color" content="#4184f3">
            
            
            <link href="/favicon.ico" rel="icon"/>
            

            <link rel="stylesheet" href="/css/highlight.light.css">
            <link rel="stylesheet" href="/css/prism-customize.css">
            <link rel="stylesheet" href="/css/nav-icon.css">
            <link rel="stylesheet" href="/css/waves.min.css">
            <link rel="stylesheet" href="/css/jquery.tocify.css">
            <link rel="stylesheet" href="/css/main.css">
            <link rel="stylesheet" href="/css/nav-indicator.css">
            </meta>
        </meta>
    </head>

    <body>
        <header>
            <!-- cover image or sth. -->
        </header>
        <div id="main" class="m-scene">
            
<div class="nav-wrapper">

    <div class="container">
        <nav>
            <div class="logo wave">
                <a href="/" id="logo">
                    Howdoit
                </a>
            </div>
            <div class="nav-toggle-icon" >
                <div class="material-hamburger">
                    <span>
                    </span>
                    <span>
                    </span>
                    <span>
                    </span>
                </div>
            </div>
            <div class="menu-wrapper">
                <div class="nav-indicator">
                </div>
                <ul class="menus">
                    
                     
                        <li>
                            <a class="wave " href="/categories/Python">
                                Python
                            </a>
                        </li>
                     
                        <li>
                            <a class="wave " href="/categories/c语言">
                                C语言
                            </a>
                        </li>
                     
                        <li>
                            <a class="wave " href="/categories/cpp">
                                CPP
                            </a>
                        </li>
                     
                        <li>
                            <a class="wave " href="/categories/linux">
                                Linux
                            </a>
                        </li>
                     
                        <li>
                            <a class="wave " href="/categories/小众软件">
                                小众软件
                            </a>
                        </li>
                     
                        <li>
                            <a class="wave " href="/categories/股票">
                                股票
                            </a>
                        </li>
                     
                    
                   
                </ul>
            </div>
        </nav>
    </div>
</div>
            <div class="container content">
                <div class="scene_element scene_element--fadein">
                    <div class="row">
    <div class="main">
        <article>
          
          <header class="post-header">
          
          </header>
          <h1 class="post-title">python面向对象练习:老王开枪</h1>

          <section class="post-info">
            <span class="post-date">2017/04/13</span>
            
            <span class="post-category">
                <a class="article-category-link" href="/categories/Python/">Python</a>
            </span>
            
            
          </section>

          <section class="post-content">
            <h2 id="1-设计基本的功能框架"><a href="#1-设计基本的功能框架" class="headerlink" title="1. 设计基本的功能框架"></a>1. 设计基本的功能框架</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">	<span class="string">"""完成整体的控制"""</span></div><div class="line">	<span class="comment">#1. 创建老王对象</span></div><div class="line"></div><div class="line">	<span class="comment">#2. 创建一把枪</span></div><div class="line"></div><div class="line">	<span class="comment">#3. 创建一个弹夹</span></div><div class="line"></div><div class="line">	<span class="comment">#4. 创建一些子弹</span></div><div class="line"></div><div class="line">	<span class="comment">#5. 将子弹安装到弹夹中</span></div><div class="line"></div><div class="line">	<span class="comment">#6. 将弹夹安装到枪中</span></div><div class="line"></div><div class="line">	<span class="comment">#7. 创建一个敌人</span></div><div class="line"></div><div class="line">	<span class="comment">#8. 老王开枪射击敌人</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">	main()</div></pre></td></tr></table></figure>
<h2 id="2-定义相关的类"><a href="#2-定义相关的类" class="headerlink" title="2. 定义相关的类"></a>2. 定义相关的类</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Person"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Person, self).__init__()</div><div class="line">		self.name = name</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Gun</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Gun"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, arg)</span>:</span></div><div class="line">		super(Gun, self).__init__()</div><div class="line">		self.arg = arg</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Danjia</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Danjia"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, arg)</span>:</span></div><div class="line">		super(Danjia, self).__init__()</div><div class="line">		self.arg = arg</div><div class="line">		</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Zidan</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Zidan"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, arg)</span>:</span></div><div class="line">		super(Zidan, self).__init__()</div><div class="line">		self.arg = arg</div><div class="line">		</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">	<span class="string">"""完成整体的控制"""</span></div><div class="line">	<span class="comment">#1. 创建老王对象</span></div><div class="line"></div><div class="line">	<span class="comment">#2. 创建一把枪</span></div><div class="line"></div><div class="line">	<span class="comment">#3. 创建一个弹夹</span></div><div class="line"></div><div class="line">	<span class="comment">#4. 创建一些子弹</span></div><div class="line"></div><div class="line">	<span class="comment">#5. 将子弹安装到弹夹中</span></div><div class="line"></div><div class="line">	<span class="comment">#6. 将弹夹安装到枪中</span></div><div class="line"></div><div class="line">	<span class="comment">#7. 创建一个敌人</span></div><div class="line"></div><div class="line">	<span class="comment">#8. 老王开枪射击敌人</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">	main()</div></pre></td></tr></table></figure>
<h2 id="3-创建相应的对象"><a href="#3-创建相应的对象" class="headerlink" title="3. 创建相应的对象"></a>3. 创建相应的对象</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Person"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Person, self).__init__()</div><div class="line">		self.name = name</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Gun</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Gun"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Gun, self).__init__()</div><div class="line">		self.name = name</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Danjia</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Danjia"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, max_num)</span>:</span></div><div class="line">		super(Danjia, self).__init__()</div><div class="line">		self.max_num = max_num<span class="comment">#弹夹对象容纳子弹的个数</span></div><div class="line">		</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Zidan</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Zidan"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, sha_shang_li)</span>:</span></div><div class="line">		super(Zidan, self).__init__()</div><div class="line">		self.sha_shang_li = sha_shang_li<span class="comment">#这颗子弹的杀伤力，即让Person对象掉血的值</span></div><div class="line">		</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">	<span class="string">"""完成整体的控制"""</span></div><div class="line">	<span class="comment">#1. 创建老王对象</span></div><div class="line">	laowang = Person(<span class="string">"老王"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#2. 创建一把枪</span></div><div class="line">	ak47 = Gun(<span class="string">"ak47"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#3. 创建一个弹夹</span></div><div class="line">	danjia = Danjia(<span class="number">20</span>)<span class="comment">#20表示这个弹夹能容纳的子弹数</span></div><div class="line"></div><div class="line">	<span class="comment">#4. 创建一些子弹</span></div><div class="line">	zidan_temp = Zidan(<span class="number">10</span>)<span class="comment">#10表示这颗子弹的伤害值</span></div><div class="line"></div><div class="line">	<span class="comment">#5. 将子弹安装到弹夹中</span></div><div class="line"></div><div class="line">	<span class="comment">#6. 将弹夹安装到枪中</span></div><div class="line"></div><div class="line">	<span class="comment">#7. 创建一个敌人</span></div><div class="line"></div><div class="line">	<span class="comment">#8. 老王开枪射击敌人</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">	main()</div></pre></td></tr></table></figure>
<h2 id="4-将子弹安装到弹夹中"><a href="#4-将子弹安装到弹夹中" class="headerlink" title="4. 将子弹安装到弹夹中"></a>4. 将子弹安装到弹夹中</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Person"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Person, self).__init__()</div><div class="line">		self.name = name</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">anzhuang_zidan</span><span class="params">(self, danjia_temp, zidan_temp)</span>:</span></div><div class="line">		<span class="string">"""安装子弹到弹夹中"""</span></div><div class="line"></div><div class="line">		<span class="comment">#所谓的安装子弹到弹夹中，意思是：让弹夹这个对象能够存储这颗子弹的引用</span></div><div class="line">		danjia_temp.baocun_zidan(zidan_temp)</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Gun</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Gun"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Gun, self).__init__()</div><div class="line">		self.name = name</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Danjia</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Danjia"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, max_num)</span>:</span></div><div class="line">		super(Danjia, self).__init__()</div><div class="line">		self.max_num = max_num<span class="comment">#弹夹对象容纳子弹的个数</span></div><div class="line">		self.zidan_list = []<span class="comment">#用来存储所有的子弹对象的引用</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">baocun_zidan</span><span class="params">(self, zidan_temp)</span>:</span></div><div class="line">		<span class="comment">#如果当期弹夹中子弹的个数比容纳的最大值小，那么意味着还可以安装，否则不能安装</span></div><div class="line">		<span class="keyword">if</span> len(self.zidan_list)&lt;self.max_num:</div><div class="line">			self.zidan_list.append(zidan_temp)</div><div class="line">			self.max_num += <span class="number">1</span></div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			print(<span class="string">"---安装子弹失败:弹夹已满，不能安装这颗子弹---"</span>)</div><div class="line"></div><div class="line">		</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Zidan</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Zidan"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, sha_shang_li)</span>:</span></div><div class="line">		super(Zidan, self).__init__()</div><div class="line">		self.sha_shang_li = sha_shang_li<span class="comment">#这颗子弹的杀伤力，即让Person对象掉血的值</span></div><div class="line">		</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">	<span class="string">"""完成整体的控制"""</span></div><div class="line">	<span class="comment">#1. 创建老王对象</span></div><div class="line">	laowang = Person(<span class="string">"老王"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#2. 创建一把枪</span></div><div class="line">	ak47 = Gun(<span class="string">"ak47"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#3. 创建一个弹夹</span></div><div class="line">	danjia = Danjia(<span class="number">20</span>)<span class="comment">#20表示这个弹夹能容纳的子弹数</span></div><div class="line"></div><div class="line">	<span class="comment">#4. 创建一些子弹</span></div><div class="line">	zidan = Zidan(<span class="number">10</span>)<span class="comment">#10表示这颗子弹的伤害值</span></div><div class="line"></div><div class="line">	<span class="comment">#5. 将子弹安装到弹夹中</span></div><div class="line">	laowang.anzhuang_zidan(danjia,zidan)</div><div class="line"></div><div class="line">	<span class="comment">#6. 将弹夹安装到枪中</span></div><div class="line"></div><div class="line">	<span class="comment">#7. 创建一个敌人</span></div><div class="line"></div><div class="line">	<span class="comment">#8. 老王开枪射击敌人</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">	main()</div></pre></td></tr></table></figure>
<h2 id="5-将弹夹安装到枪中"><a href="#5-将弹夹安装到枪中" class="headerlink" title="5. 将弹夹安装到枪中"></a>5. 将弹夹安装到枪中</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Person"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Person, self).__init__()</div><div class="line">		self.name = name</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">anzhuang_zidan</span><span class="params">(self, danjia_temp, zidan_temp)</span>:</span></div><div class="line">		<span class="string">"""安装子弹到弹夹中"""</span></div><div class="line"></div><div class="line">		<span class="comment">#所谓的安装子弹到弹夹中，意思是：让弹夹这个对象能够存储这颗子弹的引用</span></div><div class="line">		danjia_temp.baocun_zidan(zidan_temp)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">anzhuang_danjia</span><span class="params">(self, gun_temp, danjia_temp)</span>:</span></div><div class="line">		<span class="string">"""安装弹夹到枪中"""</span></div><div class="line">		gun_temp.baocun_danjia(danjia_temp)</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Gun</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Gun"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Gun, self).__init__()</div><div class="line">		self.name = name</div><div class="line">		self.item = <span class="keyword">None</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">baocun_danjia</span><span class="params">(self, danjia_temp)</span>:</span></div><div class="line">		<span class="string">"""所谓的存储弹夹是指：让枪中的一个属性，存储这个弹夹对象的引用"""</span></div><div class="line">		<span class="keyword">if</span> <span class="keyword">not</span> self.item: <span class="comment">#等价于 if self.item==None:</span></div><div class="line">			self.item = danjia_temp</div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			print(<span class="string">"---安装弹夹失败:枪已有弹夹，不能安装这个弹夹---"</span>)</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Danjia</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Danjia"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, max_num)</span>:</span></div><div class="line">		super(Danjia, self).__init__()</div><div class="line">		self.max_num = max_num<span class="comment">#弹夹对象容纳子弹的个数</span></div><div class="line">		self.item_list = []<span class="comment">#用来存储所有的子弹对象的引用</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">baocun_zidan</span><span class="params">(self, zidan_temp)</span>:</span></div><div class="line">		<span class="comment">#如果当期弹夹中子弹的个数比容纳的最大值小，那么意味着还可以安装，否则不能安装</span></div><div class="line">		<span class="keyword">if</span> len(self.item_list)&lt;self.max_num:</div><div class="line">			self.item_list.append(zidan_temp)</div><div class="line">			self.max_num += <span class="number">1</span></div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			print(<span class="string">"---安装子弹失败:弹夹已满，不能安装这颗子弹---"</span>)</div><div class="line"></div><div class="line">		</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Zidan</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Zidan"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, sha_shang_li)</span>:</span></div><div class="line">		super(Zidan, self).__init__()</div><div class="line">		self.sha_shang_li = sha_shang_li<span class="comment">#这颗子弹的杀伤力，即让Person对象掉血的值</span></div><div class="line">		</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">	<span class="string">"""完成整体的控制"""</span></div><div class="line">	<span class="comment">#1. 创建老王对象</span></div><div class="line">	laowang = Person(<span class="string">"老王"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#2. 创建一把枪</span></div><div class="line">	ak47 = Gun(<span class="string">"ak47"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#3. 创建一个弹夹</span></div><div class="line">	danjia = Danjia(<span class="number">20</span>)<span class="comment">#20表示这个弹夹能容纳的子弹数</span></div><div class="line"></div><div class="line">	<span class="comment">#4. 创建一些子弹</span></div><div class="line">	zidan = Zidan(<span class="number">10</span>)<span class="comment">#10表示这颗子弹的伤害值</span></div><div class="line"></div><div class="line">	<span class="comment">#5. 将子弹安装到弹夹中</span></div><div class="line">	laowang.anzhuang_zidan(danjia,zidan)</div><div class="line"></div><div class="line">	<span class="comment">#6. 将弹夹安装到枪中</span></div><div class="line">	laowang.anzhuang_danjia(ak47,danjia)</div><div class="line"></div><div class="line">	<span class="comment">#7. 创建一个敌人</span></div><div class="line"></div><div class="line">	<span class="comment">#8. 老王开枪射击敌人</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">	main()</div></pre></td></tr></table></figure>
<h2 id="6-测试-枪"><a href="#6-测试-枪" class="headerlink" title="6. 测试 枪"></a>6. 测试 枪</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Person"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Person, self).__init__()</div><div class="line">		self.name = name</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">anzhuang_zidan</span><span class="params">(self, danjia_temp, zidan_temp)</span>:</span></div><div class="line">		<span class="string">"""安装子弹到弹夹中"""</span></div><div class="line"></div><div class="line">		<span class="comment">#所谓的安装子弹到弹夹中，意思是：让弹夹这个对象能够存储这颗子弹的引用</span></div><div class="line">		danjia_temp.baocun_zidan(zidan_temp)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">anzhuang_danjia</span><span class="params">(self, gun_temp, danjia_temp)</span>:</span></div><div class="line">		<span class="string">"""安装弹夹到枪中"""</span></div><div class="line">		gun_temp.baocun_danjia(danjia_temp)</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Gun</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Gun"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Gun, self).__init__()</div><div class="line">		self.name = name</div><div class="line">		self.item = <span class="keyword">None</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">baocun_danjia</span><span class="params">(self, danjia_temp)</span>:</span></div><div class="line">		<span class="string">"""所谓的存储弹夹是指：让枪中的一个属性，存储这个弹夹对象的引用"""</span></div><div class="line">		<span class="keyword">if</span> <span class="keyword">not</span> self.item: <span class="comment">#等价于 if self.item==None:</span></div><div class="line">			self.item = danjia_temp</div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			print(<span class="string">"---安装弹夹失败:枪已有弹夹，不能安装这个弹夹---"</span>)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">return</span> <span class="string">"%s 中有弹夹，弹夹中的子弹为:%d/%d"</span>%(self.name, len(self.item.item_list), self.item.max_num)</div><div class="line">		<span class="comment"># return "%s 中有弹夹，弹夹中的子弹为:%s"%(self.name, self.item)</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Danjia</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Danjia"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, max_num)</span>:</span></div><div class="line">		super(Danjia, self).__init__()</div><div class="line">		self.max_num = max_num<span class="comment">#弹夹对象容纳子弹的个数</span></div><div class="line">		self.item_list = []<span class="comment">#用来存储所有的子弹对象的引用</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">baocun_zidan</span><span class="params">(self, zidan_temp)</span>:</span></div><div class="line">		<span class="comment">#如果当期弹夹中子弹的个数比容纳的最大值小，那么意味着还可以安装，否则不能安装</span></div><div class="line">		<span class="keyword">if</span> len(self.item_list)&lt;self.max_num:</div><div class="line">			self.item_list.append(zidan_temp)</div><div class="line">			self.max_num += <span class="number">1</span></div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			print(<span class="string">"---安装子弹失败:弹夹已满，不能安装这颗子弹---"</span>)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">return</span> <span class="string">"%d/%d"</span>%(len(self.item_list), self.max_num)</div><div class="line"></div><div class="line">		</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Zidan</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Zidan"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, sha_shang_li)</span>:</span></div><div class="line">		super(Zidan, self).__init__()</div><div class="line">		self.sha_shang_li = sha_shang_li<span class="comment">#这颗子弹的杀伤力，即让Person对象掉血的值</span></div><div class="line">		</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">	<span class="string">"""完成整体的控制"""</span></div><div class="line">	<span class="comment">#1. 创建老王对象</span></div><div class="line">	laowang = Person(<span class="string">"老王"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#2. 创建一把枪</span></div><div class="line">	ak47 = Gun(<span class="string">"ak47"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#3. 创建一个弹夹</span></div><div class="line">	danjia = Danjia(<span class="number">20</span>)<span class="comment">#20表示这个弹夹能容纳的子弹数</span></div><div class="line"></div><div class="line">	<span class="comment">#4. 创建一些子弹</span></div><div class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</div><div class="line">		zidan = Zidan(<span class="number">10</span>)<span class="comment">#10表示这颗子弹的伤害值</span></div><div class="line">		<span class="comment">#5. 将子弹安装到弹夹中</span></div><div class="line">		laowang.anzhuang_zidan(danjia,zidan)</div><div class="line"></div><div class="line">	<span class="comment">#6. 将弹夹安装到枪中</span></div><div class="line">	laowang.anzhuang_danjia(ak47,danjia)</div><div class="line"></div><div class="line">	<span class="comment"># test:用来测试 枪</span></div><div class="line">	print(ak47)</div><div class="line"></div><div class="line">	<span class="comment">#7. 创建一个敌人</span></div><div class="line"></div><div class="line">	<span class="comment">#8. 老王开枪射击敌人</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">	main()</div></pre></td></tr></table></figure>
<h2 id="7-创建一个敌人"><a href="#7-创建一个敌人" class="headerlink" title="7. 创建一个敌人"></a>7. 创建一个敌人</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Person"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Person, self).__init__()</div><div class="line">		self.name = name</div><div class="line">		self.shengmingzhi = <span class="number">100</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">anzhuang_zidan</span><span class="params">(self, danjia_temp, zidan_temp)</span>:</span></div><div class="line">		<span class="string">"""安装子弹到弹夹中"""</span></div><div class="line"></div><div class="line">		<span class="comment">#所谓的安装子弹到弹夹中，意思是：让弹夹这个对象能够存储这颗子弹的引用</span></div><div class="line">		danjia_temp.baocun_zidan(zidan_temp)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">anzhuang_danjia</span><span class="params">(self, gun_temp, danjia_temp)</span>:</span></div><div class="line">		<span class="string">"""安装弹夹到枪中"""</span></div><div class="line">		gun_temp.baocun_danjia(danjia_temp)</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Gun</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Gun"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Gun, self).__init__()</div><div class="line">		self.name = name</div><div class="line">		self.item = <span class="keyword">None</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">baocun_danjia</span><span class="params">(self, danjia_temp)</span>:</span></div><div class="line">		<span class="string">"""所谓的存储弹夹是指：让枪中的一个属性，存储这个弹夹对象的引用"""</span></div><div class="line">		<span class="keyword">if</span> <span class="keyword">not</span> self.item: <span class="comment">#等价于 if self.item==None:</span></div><div class="line">			self.item = danjia_temp</div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			print(<span class="string">"---安装弹夹失败:枪已有弹夹，不能安装这个弹夹---"</span>)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">return</span> <span class="string">"%s 中有弹夹，弹夹中的子弹为:%d/%d"</span>%(self.name, len(self.item.item_list), self.item.max_num)</div><div class="line">		<span class="comment"># return "%s 中有弹夹，弹夹中的子弹为:%s"%(self.name, self.item)</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Danjia</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Danjia"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, max_num)</span>:</span></div><div class="line">		super(Danjia, self).__init__()</div><div class="line">		self.max_num = max_num<span class="comment">#弹夹对象容纳子弹的个数</span></div><div class="line">		self.item_list = []<span class="comment">#用来存储所有的子弹对象的引用</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">baocun_zidan</span><span class="params">(self, zidan_temp)</span>:</span></div><div class="line">		<span class="comment">#如果当期弹夹中子弹的个数比容纳的最大值小，那么意味着还可以安装，否则不能安装</span></div><div class="line">		<span class="keyword">if</span> len(self.item_list)&lt;self.max_num:</div><div class="line">			self.item_list.append(zidan_temp)</div><div class="line">			self.max_num += <span class="number">1</span></div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			print(<span class="string">"---安装子弹失败:弹夹已满，不能安装这颗子弹---"</span>)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">return</span> <span class="string">"%d/%d"</span>%(len(self.item_list), self.max_num)</div><div class="line"></div><div class="line">		</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Zidan</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Zidan"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, sha_shang_li)</span>:</span></div><div class="line">		super(Zidan, self).__init__()</div><div class="line">		self.sha_shang_li = sha_shang_li<span class="comment">#这颗子弹的杀伤力，即让Person对象掉血的值</span></div><div class="line">		</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">	<span class="string">"""完成整体的控制"""</span></div><div class="line">	<span class="comment">#1. 创建老王对象</span></div><div class="line">	laowang = Person(<span class="string">"老王"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#2. 创建一把枪</span></div><div class="line">	ak47 = Gun(<span class="string">"ak47"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#3. 创建一个弹夹</span></div><div class="line">	danjia = Danjia(<span class="number">20</span>)<span class="comment">#20表示这个弹夹能容纳的子弹数</span></div><div class="line"></div><div class="line">	<span class="comment">#4. 创建一些子弹</span></div><div class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</div><div class="line">		zidan = Zidan(<span class="number">10</span>)<span class="comment">#10表示这颗子弹的伤害值</span></div><div class="line">		<span class="comment">#5. 将子弹安装到弹夹中</span></div><div class="line">		laowang.anzhuang_zidan(danjia,zidan)</div><div class="line"></div><div class="line">	<span class="comment">#6. 将弹夹安装到枪中</span></div><div class="line">	laowang.anzhuang_danjia(ak47,danjia)</div><div class="line"></div><div class="line">	<span class="comment"># test:用来测试 枪</span></div><div class="line">	print(ak47)</div><div class="line"></div><div class="line">	<span class="comment">#7. 创建一个敌人</span></div><div class="line">	gebi_laowang = Person(<span class="string">"隔壁老王"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#8. 老王开枪射击敌人</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">	main()</div></pre></td></tr></table></figure>
<h2 id="8-老王拿枪、开枪"><a href="#8-老王拿枪、开枪" class="headerlink" title="8. 老王拿枪、开枪"></a>8. 老王拿枪、开枪</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Person"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Person, self).__init__()</div><div class="line">		self.name = name</div><div class="line">		self.shengmingzhi = <span class="number">100</span></div><div class="line">		self.item = <span class="keyword">None</span> <span class="comment">#表示对象是否拥有枪</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">anzhuang_zidan</span><span class="params">(self, danjia_temp, zidan_temp)</span>:</span></div><div class="line">		<span class="string">"""安装子弹到弹夹中"""</span></div><div class="line"></div><div class="line">		<span class="comment">#所谓的安装子弹到弹夹中，意思是：让弹夹这个对象能够存储这颗子弹的引用</span></div><div class="line">		danjia_temp.baocun_zidan(zidan_temp)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">anzhuang_danjia</span><span class="params">(self, gun_temp, danjia_temp)</span>:</span></div><div class="line">		<span class="string">"""安装弹夹到枪中"""</span></div><div class="line">		gun_temp.baocun_danjia(danjia_temp)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">naqiang</span><span class="params">(self, gun_temp)</span>:</span></div><div class="line">		<span class="keyword">if</span> <span class="keyword">not</span> self.item:</div><div class="line">			self.item = gun_temp</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">return</span> <span class="string">"%s 的血量为:%d,ta的枪的信息为:%s"</span>%(self.name, self.shengmingzhi, self.item)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">koubanji</span><span class="params">(self, diren)</span>:</span></div><div class="line">		<span class="string">"""扣下扳机功能"""</span></div><div class="line"></div><div class="line">		<span class="comment">#人需要做的事情是扣下扳机，而真正完成发射的功能是枪来完成的，因此剩下的事情需要枪来完成</span></div><div class="line">		self.item.fire(diren)</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Gun</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Gun"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Gun, self).__init__()</div><div class="line">		self.name = name</div><div class="line">		self.item = <span class="keyword">None</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">baocun_danjia</span><span class="params">(self, danjia_temp)</span>:</span></div><div class="line">		<span class="string">"""所谓的存储弹夹是指：让枪中的一个属性，存储这个弹夹对象的引用"""</span></div><div class="line">		<span class="keyword">if</span> <span class="keyword">not</span> self.item: <span class="comment">#等价于 if self.item==None:</span></div><div class="line">			self.item = danjia_temp</div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			print(<span class="string">"---安装弹夹失败:枪已有弹夹，不能安装这个弹夹---"</span>)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">return</span> <span class="string">"%s 中有弹夹，弹夹中的子弹为:%d/%d"</span>%(self.name, len(self.item.item_list), self.item.max_num)</div><div class="line">		<span class="comment"># return "%s 中有弹夹，弹夹中的子弹为:%s"%(self.name, self.item)</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">fire</span><span class="params">(self, diren)</span>:</span></div><div class="line">		<span class="string">"""完成设计敌人"""</span></div><div class="line">		<span class="keyword">pass</span></div><div class="line"></div><div class="line">		<span class="comment">#1. 看看是否有弹夹</span></div><div class="line"></div><div class="line">		<span class="comment">#2. 从弹夹中得到一颗子弹</span></div><div class="line"></div><div class="line">		<span class="comment">#3. 用这个子弹去伤害敌人</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Danjia</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Danjia"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, max_num)</span>:</span></div><div class="line">		super(Danjia, self).__init__()</div><div class="line">		self.max_num = max_num<span class="comment">#弹夹对象容纳子弹的个数</span></div><div class="line">		self.item_list = []<span class="comment">#用来存储所有的子弹对象的引用</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">baocun_zidan</span><span class="params">(self, zidan_temp)</span>:</span></div><div class="line">		<span class="comment">#如果当期弹夹中子弹的个数比容纳的最大值小，那么意味着还可以安装，否则不能安装</span></div><div class="line">		<span class="keyword">if</span> len(self.item_list)&lt;self.max_num:</div><div class="line">			self.item_list.append(zidan_temp)</div><div class="line">			self.max_num += <span class="number">1</span></div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			print(<span class="string">"---安装子弹失败:弹夹已满，不能安装这颗子弹---"</span>)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">return</span> <span class="string">"%d/%d"</span>%(len(self.item_list), self.max_num)</div><div class="line"></div><div class="line">		</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Zidan</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Zidan"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, sha_shang_li)</span>:</span></div><div class="line">		super(Zidan, self).__init__()</div><div class="line">		self.sha_shang_li = sha_shang_li<span class="comment">#这颗子弹的杀伤力，即让Person对象掉血的值</span></div><div class="line">		</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">	<span class="string">"""完成整体的控制"""</span></div><div class="line">	<span class="comment">#1. 创建老王对象</span></div><div class="line">	laowang = Person(<span class="string">"老王"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#2. 创建一把枪</span></div><div class="line">	ak47 = Gun(<span class="string">"ak47"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#3. 创建一个弹夹</span></div><div class="line">	danjia = Danjia(<span class="number">20</span>)<span class="comment">#20表示这个弹夹能容纳的子弹数</span></div><div class="line"></div><div class="line">	<span class="comment">#4. 创建一些子弹</span></div><div class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</div><div class="line">		zidan = Zidan(<span class="number">10</span>)<span class="comment">#10表示这颗子弹的伤害值</span></div><div class="line">		<span class="comment">#5. 将子弹安装到弹夹中</span></div><div class="line">		laowang.anzhuang_zidan(danjia,zidan)</div><div class="line"></div><div class="line">	<span class="comment">#6. 将弹夹安装到枪中</span></div><div class="line">	laowang.anzhuang_danjia(ak47,danjia)</div><div class="line"></div><div class="line">	<span class="comment"># test:用来测试 枪</span></div><div class="line">	print(ak47)</div><div class="line"></div><div class="line">	<span class="comment">#7. 创建一个敌人</span></div><div class="line">	gebi_laowang = Person(<span class="string">"隔壁老王"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#8. 老王开枪射击敌人</span></div><div class="line"></div><div class="line">	<span class="comment">#8.1 老王拿枪</span></div><div class="line">	laowang.naqiang(ak47)</div><div class="line">	<span class="comment"># test:用来测试 老王对象</span></div><div class="line">	print(laowang)</div><div class="line"></div><div class="line">	<span class="comment">#8.2 开枪射向敌人</span></div><div class="line">	laowang.koubanji(gebi_laowang)</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">	main()</div></pre></td></tr></table></figure>
<h2 id="9-完成开枪的整个流程"><a href="#9-完成开枪的整个流程" class="headerlink" title="9. 完成开枪的整个流程"></a>9. 完成开枪的整个流程</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Person"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Person, self).__init__()</div><div class="line">		self.name = name</div><div class="line">		self.shengmingzhi = <span class="number">100</span></div><div class="line">		self.item = <span class="keyword">None</span> <span class="comment">#表示对象是否拥有枪</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">anzhuang_zidan</span><span class="params">(self, danjia_temp, zidan_temp)</span>:</span></div><div class="line">		<span class="string">"""安装子弹到弹夹中"""</span></div><div class="line"></div><div class="line">		<span class="comment">#所谓的安装子弹到弹夹中，意思是：让弹夹这个对象能够存储这颗子弹的引用</span></div><div class="line">		danjia_temp.baocun_zidan(zidan_temp)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">anzhuang_danjia</span><span class="params">(self, gun_temp, danjia_temp)</span>:</span></div><div class="line">		<span class="string">"""安装弹夹到枪中"""</span></div><div class="line">		gun_temp.baocun_danjia(danjia_temp)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">naqiang</span><span class="params">(self, gun_temp)</span>:</span></div><div class="line">		<span class="keyword">if</span> <span class="keyword">not</span> self.item:</div><div class="line">			self.item = gun_temp</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">return</span> <span class="string">"%s 的血量为:%d,ta的枪的信息为:%s"</span>%(self.name, self.shengmingzhi, self.item)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">koubanji</span><span class="params">(self, diren)</span>:</span></div><div class="line">		<span class="string">"""扣下扳机功能"""</span></div><div class="line"></div><div class="line">		<span class="comment">#人需要做的事情是扣下扳机，而真正完成发射的功能是枪来完成的，因此剩下的事情需要枪来完成</span></div><div class="line">		self.item.fire(diren)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">diaoxue</span><span class="params">(self, diao_xue_liang)</span>:</span></div><div class="line">		self.shengmingzhi -= diao_xue_liang</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Gun</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Gun"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Gun, self).__init__()</div><div class="line">		self.name = name</div><div class="line">		self.item = <span class="keyword">None</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">baocun_danjia</span><span class="params">(self, danjia_temp)</span>:</span></div><div class="line">		<span class="string">"""所谓的存储弹夹是指：让枪中的一个属性，存储这个弹夹对象的引用"""</span></div><div class="line">		<span class="keyword">if</span> <span class="keyword">not</span> self.item: <span class="comment">#等价于 if self.item==None:</span></div><div class="line">			self.item = danjia_temp</div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			print(<span class="string">"---安装弹夹失败:枪已有弹夹，不能安装这个弹夹---"</span>)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">return</span> <span class="string">"%s 中有弹夹，弹夹中的子弹为:%d/%d"</span>%(self.name, len(self.item.item_list), self.item.max_num)</div><div class="line">		<span class="comment"># return "%s 中有弹夹，弹夹中的子弹为:%s"%(self.name, self.item)</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">fire</span><span class="params">(self, diren)</span>:</span></div><div class="line">		<span class="string">"""完成设计敌人"""</span></div><div class="line"></div><div class="line">		<span class="comment">#1. 看看是否有弹夹</span></div><div class="line">		<span class="keyword">if</span> self.item:</div><div class="line">			<span class="comment">#2. 从弹夹中得到一颗子弹</span></div><div class="line">			zidan_temp = self.item.tanchu_zidan()</div><div class="line">			<span class="keyword">if</span> zidan_temp:</div><div class="line">				<span class="comment">#3. 用这个子弹去伤害敌人</span></div><div class="line">				zidan_temp.shanghai(diren)</div><div class="line">			<span class="keyword">else</span>:</div><div class="line">				print(<span class="string">"---射击敌人失败：弹夹中没有子弹---"</span>)</div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			print(<span class="string">"---射击敌人失败：枪中没有弹夹---"</span>)</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Danjia</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Danjia"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, max_num)</span>:</span></div><div class="line">		super(Danjia, self).__init__()</div><div class="line">		self.max_num = max_num<span class="comment">#弹夹对象容纳子弹的个数</span></div><div class="line">		self.item_list = []<span class="comment">#用来存储所有的子弹对象的引用</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">baocun_zidan</span><span class="params">(self, zidan_temp)</span>:</span></div><div class="line">		<span class="comment">#如果当期弹夹中子弹的个数比容纳的最大值小，那么意味着还可以安装，否则不能安装</span></div><div class="line">		<span class="keyword">if</span> len(self.item_list)&lt;self.max_num:</div><div class="line">			self.item_list.append(zidan_temp)</div><div class="line">			self.max_num += <span class="number">1</span></div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			print(<span class="string">"---安装子弹失败:弹夹已满，不能安装这颗子弹---"</span>)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">return</span> <span class="string">"%d/%d"</span>%(len(self.item_list), self.max_num)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">tanchu_zidan</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="string">"""从属性中 弹出最后一次安装的那颗子弹"""</span></div><div class="line">		<span class="keyword">return</span> self.item_list.pop()</div><div class="line"></div><div class="line">		</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Zidan</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Zidan"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, sha_shang_li)</span>:</span></div><div class="line">		super(Zidan, self).__init__()</div><div class="line">		self.sha_shang_li = sha_shang_li<span class="comment">#这颗子弹的杀伤力，即让Person对象掉血的值</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">shanghai</span><span class="params">(self, diren)</span>:</span></div><div class="line">		<span class="string">"""子弹让敌人掉血"""</span></div><div class="line"></div><div class="line">		<span class="comment">#敌人掉血量要根据这颗子弹的杀伤力来决定</span></div><div class="line">		diren.diaoxue(self.sha_shang_li)		</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">	<span class="string">"""完成整体的控制"""</span></div><div class="line">	<span class="comment">#1. 创建老王对象</span></div><div class="line">	laowang = Person(<span class="string">"老王"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#2. 创建一把枪</span></div><div class="line">	ak47 = Gun(<span class="string">"ak47"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#3. 创建一个弹夹</span></div><div class="line">	danjia = Danjia(<span class="number">20</span>)<span class="comment">#20表示这个弹夹能容纳的子弹数</span></div><div class="line"></div><div class="line">	<span class="comment">#4. 创建一些子弹</span></div><div class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</div><div class="line">		zidan = Zidan(<span class="number">10</span>)<span class="comment">#10表示这颗子弹的伤害值</span></div><div class="line">		<span class="comment">#5. 将子弹安装到弹夹中</span></div><div class="line">		laowang.anzhuang_zidan(danjia,zidan)</div><div class="line"></div><div class="line">	<span class="comment">#6. 将弹夹安装到枪中</span></div><div class="line">	laowang.anzhuang_danjia(ak47,danjia)</div><div class="line"></div><div class="line">	<span class="comment"># test:用来测试 枪</span></div><div class="line">	print(ak47)</div><div class="line"></div><div class="line">	<span class="comment">#7. 创建一个敌人</span></div><div class="line">	gebi_laowang = Person(<span class="string">"隔壁老王"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#8. 老王开枪射击敌人</span></div><div class="line"></div><div class="line">	<span class="comment">#8.1 老王拿枪</span></div><div class="line">	laowang.naqiang(ak47)</div><div class="line">	<span class="comment"># test:用来测试 老王对象</span></div><div class="line">	print(laowang)</div><div class="line"></div><div class="line">	<span class="comment">#8.2 开枪射向敌人</span></div><div class="line">	laowang.koubanji(gebi_laowang)</div><div class="line"></div><div class="line">	<span class="comment"># test:测试 敌人被射击后的效果</span></div><div class="line">	print(gebi_laowang)</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">	main()</div></pre></td></tr></table></figure>
<h2 id="10-测试最后效果"><a href="#10-测试最后效果" class="headerlink" title="10. 测试最后效果"></a>10. 测试最后效果</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Person"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Person, self).__init__()</div><div class="line">		self.name = name</div><div class="line">		self.shengmingzhi = <span class="number">100</span></div><div class="line">		self.item = <span class="keyword">None</span> <span class="comment">#表示对象是否拥有枪</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">anzhuang_zidan</span><span class="params">(self, danjia_temp, zidan_temp)</span>:</span></div><div class="line">		<span class="string">"""安装子弹到弹夹中"""</span></div><div class="line"></div><div class="line">		<span class="comment">#所谓的安装子弹到弹夹中，意思是：让弹夹这个对象能够存储这颗子弹的引用</span></div><div class="line">		danjia_temp.baocun_zidan(zidan_temp)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">anzhuang_danjia</span><span class="params">(self, gun_temp, danjia_temp)</span>:</span></div><div class="line">		<span class="string">"""安装弹夹到枪中"""</span></div><div class="line">		gun_temp.baocun_danjia(danjia_temp)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">naqiang</span><span class="params">(self, gun_temp)</span>:</span></div><div class="line">		<span class="keyword">if</span> <span class="keyword">not</span> self.item:</div><div class="line">			self.item = gun_temp</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">if</span> self.shengmingzhi&gt;<span class="number">0</span>:</div><div class="line">			<span class="keyword">return</span> <span class="string">"%s 的血量为:%d,ta的枪的信息为:%s"</span>%(self.name, self.shengmingzhi, self.item)</div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			<span class="keyword">return</span> <span class="string">"%s 已挂..."</span>%self.name</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">koubanji</span><span class="params">(self, diren)</span>:</span></div><div class="line">		<span class="string">"""扣下扳机功能"""</span></div><div class="line"></div><div class="line">		<span class="comment">#人需要做的事情是扣下扳机，而真正完成发射的功能是枪来完成的，因此剩下的事情需要枪来完成</span></div><div class="line">		self.item.fire(diren)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">diaoxue</span><span class="params">(self, diao_xue_liang)</span>:</span></div><div class="line">		self.shengmingzhi -= diao_xue_liang</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Gun</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Gun"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line">		super(Gun, self).__init__()</div><div class="line">		self.name = name</div><div class="line">		self.item = <span class="keyword">None</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">baocun_danjia</span><span class="params">(self, danjia_temp)</span>:</span></div><div class="line">		<span class="string">"""所谓的存储弹夹是指：让枪中的一个属性，存储这个弹夹对象的引用"""</span></div><div class="line">		<span class="keyword">if</span> <span class="keyword">not</span> self.item: <span class="comment">#等价于 if self.item==None:</span></div><div class="line">			self.item = danjia_temp</div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			print(<span class="string">"---安装弹夹失败:枪已有弹夹，不能安装这个弹夹---"</span>)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">return</span> <span class="string">"%s 中有弹夹，弹夹中的子弹为:%d/%d"</span>%(self.name, len(self.item.item_list), self.item.max_num)</div><div class="line">		<span class="comment"># return "%s 中有弹夹，弹夹中的子弹为:%s"%(self.name, self.item)</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">fire</span><span class="params">(self, diren)</span>:</span></div><div class="line">		<span class="string">"""完成设计敌人"""</span></div><div class="line"></div><div class="line">		<span class="comment">#1. 看看是否有弹夹</span></div><div class="line">		<span class="keyword">if</span> self.item:</div><div class="line">			<span class="comment">#2. 从弹夹中得到一颗子弹</span></div><div class="line">			zidan_temp = self.item.tanchu_zidan()</div><div class="line">			<span class="keyword">if</span> zidan_temp:</div><div class="line">				<span class="comment">#3. 用这个子弹去伤害敌人</span></div><div class="line">				zidan_temp.shanghai(diren)</div><div class="line">			<span class="keyword">else</span>:</div><div class="line">				print(<span class="string">"---射击敌人失败：弹夹中没有子弹---"</span>)</div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			print(<span class="string">"---射击敌人失败：枪中没有弹夹---"</span>)</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Danjia</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Danjia"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, max_num)</span>:</span></div><div class="line">		super(Danjia, self).__init__()</div><div class="line">		self.max_num = max_num<span class="comment">#弹夹对象容纳子弹的个数</span></div><div class="line">		self.item_list = []<span class="comment">#用来存储所有的子弹对象的引用</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">baocun_zidan</span><span class="params">(self, zidan_temp)</span>:</span></div><div class="line">		<span class="comment">#如果当期弹夹中子弹的个数比容纳的最大值小，那么意味着还可以安装，否则不能安装</span></div><div class="line">		<span class="keyword">if</span> len(self.item_list)&lt;self.max_num:</div><div class="line">			self.item_list.append(zidan_temp)</div><div class="line">			self.max_num += <span class="number">1</span></div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			print(<span class="string">"---安装子弹失败:弹夹已满，不能安装这颗子弹---"</span>)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">return</span> <span class="string">"%d/%d"</span>%(len(self.item_list), self.max_num)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">tanchu_zidan</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="string">"""从属性中 弹出最后一次安装的那颗子弹"""</span></div><div class="line">		<span class="keyword">if</span> self.item_list:</div><div class="line">			<span class="keyword">return</span> self.item_list.pop()</div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			<span class="keyword">return</span> <span class="keyword">None</span></div><div class="line"></div><div class="line">		</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Zidan</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="string">"""docstring for Zidan"""</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, sha_shang_li)</span>:</span></div><div class="line">		super(Zidan, self).__init__()</div><div class="line">		self.sha_shang_li = sha_shang_li<span class="comment">#这颗子弹的杀伤力，即让Person对象掉血的值</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">shanghai</span><span class="params">(self, diren)</span>:</span></div><div class="line">		<span class="string">"""子弹让敌人掉血"""</span></div><div class="line"></div><div class="line">		<span class="comment">#敌人掉血量要根据这颗子弹的杀伤力来决定</span></div><div class="line">		diren.diaoxue(self.sha_shang_li)		</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">	<span class="string">"""完成整体的控制"""</span></div><div class="line">	<span class="comment">#1. 创建老王对象</span></div><div class="line">	laowang = Person(<span class="string">"老王"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#2. 创建一把枪</span></div><div class="line">	ak47 = Gun(<span class="string">"ak47"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#3. 创建一个弹夹</span></div><div class="line">	danjia = Danjia(<span class="number">20</span>)<span class="comment">#20表示这个弹夹能容纳的子弹数</span></div><div class="line"></div><div class="line">	<span class="comment">#4. 创建一些子弹</span></div><div class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">15</span>):</div><div class="line">		zidan = Zidan(<span class="number">10</span>)<span class="comment">#10表示这颗子弹的伤害值</span></div><div class="line">		<span class="comment">#5. 将子弹安装到弹夹中</span></div><div class="line">		laowang.anzhuang_zidan(danjia,zidan)</div><div class="line"></div><div class="line">	<span class="comment">#6. 将弹夹安装到枪中</span></div><div class="line">	laowang.anzhuang_danjia(ak47,danjia)</div><div class="line"></div><div class="line">	<span class="comment"># test:用来测试 枪</span></div><div class="line">	print(ak47)</div><div class="line"></div><div class="line">	<span class="comment">#7. 创建一个敌人</span></div><div class="line">	gebi_laowang = Person(<span class="string">"隔壁老王"</span>)</div><div class="line"></div><div class="line">	<span class="comment">#8. 老王开枪射击敌人</span></div><div class="line"></div><div class="line">	<span class="comment">#8.1 老王拿枪</span></div><div class="line">	laowang.naqiang(ak47)</div><div class="line">	<span class="comment"># test:用来测试 老王对象</span></div><div class="line">	print(laowang)</div><div class="line"></div><div class="line">	<span class="comment">#8.2 开枪射向敌人</span></div><div class="line">	laowang.koubanji(gebi_laowang)</div><div class="line">	laowang.koubanji(gebi_laowang)</div><div class="line">	laowang.koubanji(gebi_laowang)</div><div class="line">	laowang.koubanji(gebi_laowang)</div><div class="line">	laowang.koubanji(gebi_laowang)</div><div class="line">	laowang.koubanji(gebi_laowang)</div><div class="line">	laowang.koubanji(gebi_laowang)</div><div class="line">	laowang.koubanji(gebi_laowang)</div><div class="line">	laowang.koubanji(gebi_laowang)</div><div class="line">	laowang.koubanji(gebi_laowang)</div><div class="line">	laowang.koubanji(gebi_laowang)</div><div class="line"></div><div class="line">	<span class="comment"># test:测试 敌人被射击后的效果</span></div><div class="line">	print(gebi_laowang)</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">	main()</div></pre></td></tr></table></figure>
<h2 id="运行效果"><a href="#运行效果" class="headerlink" title="运行效果"></a>运行效果</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">donggedeMacBook-Pro:Desktop dongge$ python3 laowang10.py</div><div class="line">ak47 中有弹夹，弹夹中的子弹为:<span class="number">15</span>/<span class="number">35</span></div><div class="line">老王 的血量为:<span class="number">100</span>,ta的枪的信息为:ak47 中有弹夹，弹夹中的子弹为:<span class="number">15</span>/<span class="number">35</span></div><div class="line">隔壁老王 已挂...</div></pre></td></tr></table></figure>
          </section>
        </article>
        

       
        <div class="pager">
          
          
            <a class="post-next pager-item" href="/2017/03/29/17-vim/">
              <strong class="article-nav-caption">下一篇</strong>
              <p class="post-nav-title">vim编辑器</p>
            </a>
          
        </div>
        

         <!-- comments -->
        <div class="comment-section">
  
    


</div>

    </div>
    
    <aside>
        <div id="toc">
        </div>
    </aside>
    
</div>

                </div>
            </div>
        </div>
        <footer class="footer">
    <p>由<a href="http://hexo.io/" target="_blank">Hexo</a>强力驱动，搭载<a href="https://github.com/wayou/hexo-theme-gstyle">gstyle</a>主题</p>
    <p>
        &copy; 2017 dongGe
    </p>
    
  

  

  
  <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1261300516'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/stat.php%3Fid%3D1261300516' type='text/javascript'%3E%3C/script%3E"));</script>
  
</footer>
<script src="/lib/jquery.js"></script>
<script src="/lib/waves.js"></script>
<script src="/lib/jquery-ui.js"></script>
<script src="/lib/jquery.tocify.js"></script>
<script src="/js/main.js"></script>


    </body>
</html>
